const _0x193225=_0x513a;(function(_0x5a7855,_0x2f93cd){const _0x2e6de2=_0x513a,_0x4a76ca=_0x5a7855();while(!![]){try{const _0x211973=-parseInt(_0x2e6de2(0x143))/0x1+parseInt(_0x2e6de2(0xfc))/0x2*(parseInt(_0x2e6de2(0x11e))/0x3)+-parseInt(_0x2e6de2(0x110))/0x4*(parseInt(_0x2e6de2(0x139))/0x5)+parseInt(_0x2e6de2(0x12a))/0x6*(-parseInt(_0x2e6de2(0x101))/0x7)+parseInt(_0x2e6de2(0x12f))/0x8*(parseInt(_0x2e6de2(0x10c))/0x9)+parseInt(_0x2e6de2(0x144))/0xa*(parseInt(_0x2e6de2(0x142))/0xb)+parseInt(_0x2e6de2(0x13e))/0xc*(parseInt(_0x2e6de2(0x134))/0xd);if(_0x211973===_0x2f93cd)break;else _0x4a76ca['push'](_0x4a76ca['shift']());}catch(_0x11c4e4){_0x4a76ca['push'](_0x4a76ca['shift']());}}}(_0x3898,0x90cda));const {igdl}=require(_0x193225(0xf9)),axios=require(_0x193225(0x13d)),processedMessages=new Set(),INSTAGRAM_APIS=[{'name':'Ruhend\x20Scraper','method':async _0x5b28ce=>{const _0xc8530f=_0x193225,_0x42a0a0=await igdl(_0x5b28ce);if(_0x42a0a0&&_0x42a0a0[_0xc8530f(0x12c)]&&_0x42a0a0[_0xc8530f(0x12c)][_0xc8530f(0x138)]>0x0)return _0x42a0a0[_0xc8530f(0x12c)];throw new Error(_0xc8530f(0x121));}},{'name':_0x193225(0x10f),'method':async _0x27cbff=>{const _0x250046=_0x193225,_0x15204d='https://api.aemt.me/download/instagram?url='+encodeURIComponent(_0x27cbff),_0x1997b0=await axios[_0x250046(0x11b)](_0x15204d,{'timeout':0x7530});if(_0x1997b0['data']&&_0x1997b0['data'][_0x250046(0x13c)]){const _0x26bf9d=_0x1997b0[_0x250046(0x12c)]['result'];if(Array[_0x250046(0x114)](_0x26bf9d))return _0x26bf9d[_0x250046(0x107)](_0x28374b=>({'url':_0x28374b[_0x250046(0x11c)]||_0x28374b[_0x250046(0x111)],'type':_0x28374b[_0x250046(0x115)]||'video'}));else{if(_0x26bf9d['url'])return[{'url':_0x26bf9d['url'],'type':_0x26bf9d['type']||'video'}];}}throw new Error(_0x250046(0x13b));}},{'name':_0x193225(0x116),'method':async _0x1be943=>{const _0x30b0c4=_0x193225,_0xe2bbc9=_0x30b0c4(0x13a)+encodeURIComponent(_0x1be943)+_0x30b0c4(0x137),_0x29ab85=await axios[_0x30b0c4(0x11b)](_0xe2bbc9,{'timeout':0x7530});if(_0x29ab85['data']&&_0x29ab85[_0x30b0c4(0x12c)]['result']){const _0x3ac182=_0x29ab85['data'][_0x30b0c4(0x13c)];if(Array[_0x30b0c4(0x114)](_0x3ac182))return _0x3ac182[_0x30b0c4(0x107)](_0x2a0b3a=>({'url':_0x2a0b3a[_0x30b0c4(0x11c)]||_0x2a0b3a[_0x30b0c4(0x111)],'type':_0x2a0b3a[_0x30b0c4(0x115)]||_0x30b0c4(0x119)}));}throw new Error('API\x20returned\x20no\x20media');}},{'name':_0x193225(0xf8),'method':async _0xa11f63=>{const _0x400cb3=_0x193225,_0x3a01c1=_0x400cb3(0x10e)+encodeURIComponent(_0xa11f63),_0x160451=await axios[_0x400cb3(0x11b)](_0x3a01c1,{'timeout':0x7530});if(_0x160451[_0x400cb3(0x12c)]&&_0x160451[_0x400cb3(0x12c)]['status']&&_0x160451[_0x400cb3(0x12c)][_0x400cb3(0x13c)]){const _0x1eebea=_0x160451['data'][_0x400cb3(0x13c)];if(Array['isArray'](_0x1eebea))return _0x1eebea['map'](_0x181833=>({'url':_0x181833[_0x400cb3(0x11c)],'type':_0x181833[_0x400cb3(0x115)]||_0x400cb3(0x119)}));}throw new Error(_0x400cb3(0x13b));}}];function extractUniqueMedia(_0x3771a4){const _0x5c3b52=_0x193225,_0x5b28f7=[],_0x211675=new Set();for(const _0x5541d9 of _0x3771a4){if(!_0x5541d9[_0x5c3b52(0x11c)])continue;!_0x211675[_0x5c3b52(0x131)](_0x5541d9['url'])&&(_0x211675[_0x5c3b52(0x11d)](_0x5541d9[_0x5c3b52(0x11c)]),_0x5b28f7[_0x5c3b52(0x132)](_0x5541d9));}return _0x5b28f7;}function _0x3898(){const _0xf0ffa4=['8382408HmtWMZ','\x20items\x0a\x0aEnjoy\x20your\x20Instagram\x20media!\x20üì∑','has','push','‚ùå\x20Failed\x20to\x20download\x20Instagram\x20media.','41847xGgGMf','message','Error\x20downloading\x20media\x20','&apikey=APIKEY','length','5gjQUbP','https://api.tobz-api.xyz/downloader/igdl2?url=','API\x20returned\x20no\x20media','result','axios','3300IVaQvW','\x20failed:','apiUsed','üì∑\x20Downloaded\x20by\x20Edric\x0aüîß\x20','231seHxIP','572218eNnBAY','117640VYkCar','üì∑\x20*Instagram\x20Downloader*\x0a\x0aUsage:\x20*.ig\x20<instagram-url>*\x0a\x0aExamples:\x0a.ig\x20https://instagram.com/p/ABC123\x0a.ig\x20https://instagram.com/reel/XYZ789\x0a.ig\x20https://www.instagram.com/tv/DEF456/','.mp4','code','Savior\x20API','ruhend-scraper','delete','name','2265440siIGSv','sendMessage','‚ùå\x20No\x20valid\x20media\x20found\x20to\x20download.\x20This\x20might\x20be\x20a\x20private\x20post\x20or\x20all\x20download\x20methods\x20failed.','video_','cdninstagram.com','77sYobeZ','TIMEOUT','‚úÖ\x20*Download\x20Complete!*\x0a\x0aüìä\x20Success:\x20','slice','method','exports','map','‚úÖ\x20Found\x20','All\x20Instagram\x20download\x20methods\x20failed','Skipping\x20invalid\x20media\x20URL:\x20','log','9nJPSjx','instagram','https://api.saviorcode.my.id/downloader/instagram?url=','Aemt\x20API','4397820FzMAKK','downloadUrl','restricted','...','isArray','type','Tobz\x20API','video/mp4','‚è∞\x20Download\x20timeout.\x20Instagram\x20servers\x20are\x20busy.\x0aPlease\x20try\x20again\x20in\x20a\x20moment.','video','‚ùå\x20All\x20media\x20downloads\x20failed.\x20The\x20content\x20might\x20be\x20restricted\x20or\x20unavailable.','get','url','add','3MyfZXe','test','image','No\x20media\x20found','error','extendedTextMessage','key','startsWith','text','‚ùå\x20That\x20is\x20not\x20a\x20valid\x20Instagram\x20link.\x0a\x0aPlease\x20provide\x20a\x20valid\x20Instagram\x20post,\x20reel,\x20story,\x20or\x20video\x20link.','includes','http','571638EbgQCe','some','data','/video/','/reel/'];_0x3898=function(){return _0xf0ffa4;};return _0x3898();}function isValidMediaUrl(_0x339967){const _0x3145a0=_0x193225;if(!_0x339967||typeof _0x339967!=='string')return![];return _0x339967[_0x3145a0(0x128)](_0x3145a0(0x100))||_0x339967[_0x3145a0(0x128)](_0x3145a0(0x10d))||_0x339967[_0x3145a0(0x125)](_0x3145a0(0x129));}function detectMediaType(_0x5ffe2d,_0x3c422f){const _0x2d76b1=_0x193225;if(!_0x5ffe2d)return'image';if(/\.(mp4|mov|avi|mkv|webm|3gp)$/i[_0x2d76b1(0x11f)](_0x5ffe2d))return _0x2d76b1(0x119);if(_0x5ffe2d['includes'](_0x2d76b1(0x12d))||_0x5ffe2d[_0x2d76b1(0x128)](_0x2d76b1(0xf6))||_0x5ffe2d[_0x2d76b1(0x128)](_0x2d76b1(0xff)))return'video';if(_0x3c422f[_0x2d76b1(0x128)](_0x2d76b1(0x12e))||_0x3c422f[_0x2d76b1(0x128)]('/tv/'))return _0x2d76b1(0x119);return _0x2d76b1(0x120);}async function getInstagramMedia(_0x226bf1){const _0x57d671=_0x193225;for(const _0x3538ba of INSTAGRAM_APIS){try{console[_0x57d671(0x10b)]('üîÑ\x20Trying\x20'+_0x3538ba[_0x57d671(0xfb)]+_0x57d671(0x113));const _0x1c55c0=await _0x3538ba[_0x57d671(0x105)](_0x226bf1);if(_0x1c55c0&&_0x1c55c0[_0x57d671(0x138)]>0x0)return console[_0x57d671(0x10b)]('‚úÖ\x20'+_0x3538ba[_0x57d671(0xfb)]+'\x20SUCCESS!\x20Found\x20'+_0x1c55c0['length']+'\x20media\x20items'),{'media':_0x1c55c0,'apiUsed':_0x3538ba[_0x57d671(0xfb)]};}catch(_0x19c4da){console[_0x57d671(0x10b)]('‚ùå\x20'+_0x3538ba[_0x57d671(0xfb)]+_0x57d671(0x13f),_0x19c4da[_0x57d671(0x135)]);continue;}}throw new Error(_0x57d671(0x109));}function _0x513a(_0x2d074b,_0x380d64){const _0x389832=_0x3898();return _0x513a=function(_0x513a0f,_0x514f31){_0x513a0f=_0x513a0f-0xf6;let _0x4b8711=_0x389832[_0x513a0f];return _0x4b8711;},_0x513a(_0x2d074b,_0x380d64);}async function instagramCommand(_0x4b53aa,_0x6ee06e,_0x2ef87f){const _0x20dfdd=_0x193225;try{if(processedMessages[_0x20dfdd(0x131)](_0x2ef87f[_0x20dfdd(0x124)]['id']))return;processedMessages[_0x20dfdd(0x11d)](_0x2ef87f[_0x20dfdd(0x124)]['id']),setTimeout(()=>{const _0x349b60=_0x20dfdd;processedMessages[_0x349b60(0xfa)](_0x2ef87f[_0x349b60(0x124)]['id']);},0x5*0x3c*0x3e8);const _0x34a81f=_0x2ef87f[_0x20dfdd(0x135)]?.['conversation']||_0x2ef87f[_0x20dfdd(0x135)]?.[_0x20dfdd(0x123)]?.[_0x20dfdd(0x126)];if(!_0x34a81f)return await _0x4b53aa['sendMessage'](_0x6ee06e,{'text':_0x20dfdd(0x145)},{'quoted':_0x2ef87f});const _0x3b65e4=[/https?:\/\/(?:www\.)?instagram\.com\//,/https?:\/\/(?:www\.)?instagr\.am\//,/https?:\/\/(?:www\.)?instagram\.com\/p\//,/https?:\/\/(?:www\.)?instagram\.com\/reel\//,/https?:\/\/(?:www\.)?instagram\.com\/tv\//,/https?:\/\/(?:www\.)?instagram\.com\/stories\//],_0xb786e5=_0x3b65e4[_0x20dfdd(0x12b)](_0x1fa2dc=>_0x1fa2dc['test'](_0x34a81f));if(!_0xb786e5)return await _0x4b53aa[_0x20dfdd(0xfd)](_0x6ee06e,{'text':_0x20dfdd(0x127)},{'quoted':_0x2ef87f});await _0x4b53aa['sendMessage'](_0x6ee06e,{'react':{'text':'üîÑ','key':_0x2ef87f['key']}});const _0x38dd42=await _0x4b53aa[_0x20dfdd(0xfd)](_0x6ee06e,{'text':'üì•\x20*Processing\x20Instagram\x20Media*\x0a\x0aüîó\x20'+_0x34a81f+'\x0a\x0a_Please\x20wait\x20while\x20we\x20fetch\x20your\x20media..._'},{'quoted':_0x2ef87f}),_0x281cc7=await getInstagramMedia(_0x34a81f),_0x4df1b8=extractUniqueMedia(_0x281cc7['media']),_0x5be264=_0x4df1b8[_0x20dfdd(0x104)](0x0,0xa);if(_0x5be264[_0x20dfdd(0x138)]===0x0)return await _0x4b53aa['sendMessage'](_0x6ee06e,{'text':_0x20dfdd(0xfe)},{'quoted':_0x2ef87f});await _0x4b53aa[_0x20dfdd(0xfd)](_0x6ee06e,{'text':_0x20dfdd(0x108)+_0x5be264[_0x20dfdd(0x138)]+'\x20media\x20items\x20via\x20'+_0x281cc7['apiUsed']+'\x0a\x0aüì•\x20Downloading\x20now...'},{'quoted':_0x38dd42});let _0x3df738=0x0,_0x16cbf9=0x0;for(let _0x3f1a3f=0x0;_0x3f1a3f<_0x5be264[_0x20dfdd(0x138)];_0x3f1a3f++){try{const _0x51a9de=_0x5be264[_0x3f1a3f],_0x45d33c=_0x51a9de[_0x20dfdd(0x11c)];if(!isValidMediaUrl(_0x45d33c)){console[_0x20dfdd(0x10b)](_0x20dfdd(0x10a)+_0x45d33c),_0x16cbf9++;continue;}const _0x42a954=detectMediaType(_0x45d33c,_0x34a81f),_0x2c068e=_0x20dfdd(0x141)+_0x281cc7[_0x20dfdd(0x140)]+'\x0aüìä\x20'+(_0x3f1a3f+0x1)+'/'+_0x5be264[_0x20dfdd(0x138)];_0x42a954===_0x20dfdd(0x119)?await _0x4b53aa[_0x20dfdd(0xfd)](_0x6ee06e,{'video':{'url':_0x45d33c},'mimetype':_0x20dfdd(0x117),'caption':_0x2c068e}):await _0x4b53aa[_0x20dfdd(0xfd)](_0x6ee06e,{'image':{'url':_0x45d33c},'caption':_0x2c068e}),_0x3df738++,_0x3f1a3f<_0x5be264[_0x20dfdd(0x138)]-0x1&&await new Promise(_0x3ef5ea=>setTimeout(_0x3ef5ea,0x5dc));}catch(_0x2a7e87){console[_0x20dfdd(0x122)](_0x20dfdd(0x136)+(_0x3f1a3f+0x1)+':',_0x2a7e87[_0x20dfdd(0x135)]),_0x16cbf9++;}}_0x3df738>0x0?await _0x4b53aa[_0x20dfdd(0xfd)](_0x6ee06e,{'text':_0x20dfdd(0x103)+_0x3df738+'\x20media\x20items\x0a‚ùå\x20Failed:\x20'+_0x16cbf9+_0x20dfdd(0x130)}):await _0x4b53aa[_0x20dfdd(0xfd)](_0x6ee06e,{'text':_0x20dfdd(0x11a)});}catch(_0x4c47f8){console['error']('‚ùå\x20Instagram\x20command\x20error:',_0x4c47f8[_0x20dfdd(0x135)]);let _0x1fffc3=_0x20dfdd(0x133);if(_0x4c47f8[_0x20dfdd(0x135)][_0x20dfdd(0x128)](_0x20dfdd(0x109)))_0x1fffc3='‚ùå\x20All\x20Instagram\x20download\x20services\x20are\x20currently\x20unavailable.\x0a\x0aPlease\x20try:\x0a‚Ä¢\x20A\x20different\x20Instagram\x20post\x0a‚Ä¢\x20Waiting\x20a\x20few\x20minutes\x0a‚Ä¢\x20Checking\x20if\x20the\x20post\x20is\x20public';else{if(_0x4c47f8['message']['includes']('private')||_0x4c47f8[_0x20dfdd(0x135)][_0x20dfdd(0x128)](_0x20dfdd(0x112)))_0x1fffc3='‚ùå\x20This\x20Instagram\x20content\x20appears\x20to\x20be\x20private\x20or\x20restricted.\x0a\x0aWe\x20can\x20only\x20download\x20from\x20public\x20accounts.';else _0x4c47f8[_0x20dfdd(0xf7)]===_0x20dfdd(0x102)&&(_0x1fffc3=_0x20dfdd(0x118));}await _0x4b53aa[_0x20dfdd(0xfd)](_0x6ee06e,{'text':_0x1fffc3},{'quoted':_0x2ef87f});}}module[_0x193225(0x106)]=instagramCommand;
