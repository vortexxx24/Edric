const _0x44d0b3=_0x1de4;function _0x5704(){const _0x13a260=['../lib/index','subject','length','profilePictureUrl','This\x20command\x20can\x20only\x20be\x20used\x20in\x20groups.','exports','830641EZNzsZ','4ALJEcS','sendMessage','2451954JitwYo','log','slice','205TxEeiF','find','&memberCount=','13900QmLCFB','participants','join','conversation','buffer','groupMetadata','610710XgNUeq','14353760riBJHO','153pYtqAT','41216mcHxvW','*\x20we\x20will\x20never\x20miss\x20you!\x20','name','5802286yaHidH','split','https://img.pyrocdn.com/dbKUgahg.png','text','\x20*@','message','https://api.some-random-api.com/welcome/img/2/gaming1?type=leave&textcolor=red&username=','Could\x20not\x20fetch\x20profile\x20picture,\x20using\x20default'];_0x5704=function(){return _0x13a260;};return _0x5704();}(function(_0x163cc3,_0x43358b){const _0x3b0a9f=_0x1de4,_0x300c2a=_0x163cc3();while(!![]){try{const _0x1f9905=-parseInt(_0x3b0a9f(0x91))/0x1+parseInt(_0x3b0a9f(0x92))/0x2*(parseInt(_0x3b0a9f(0xa0))/0x3)+-parseInt(_0x3b0a9f(0x9a))/0x4*(-parseInt(_0x3b0a9f(0x97))/0x5)+parseInt(_0x3b0a9f(0x94))/0x6+-parseInt(_0x3b0a9f(0xa6))/0x7+-parseInt(_0x3b0a9f(0xa3))/0x8*(-parseInt(_0x3b0a9f(0xa2))/0x9)+parseInt(_0x3b0a9f(0xa1))/0xa;if(_0x1f9905===_0x43358b)break;else _0x300c2a['push'](_0x300c2a['shift']());}catch(_0xa8b77f){_0x300c2a['push'](_0x300c2a['shift']());}}}(_0x5704,0xc89bf));const {handleGoodbye}=require('../lib/welcome'),{isGoodByeOn}=require(_0x44d0b3(0xae)),fetch=require('node-fetch');async function goodbyeCommand(_0x241cee,_0x159038,_0x7d8a1e,_0xfe7926){const _0x41975d=_0x44d0b3;if(!_0x159038['endsWith']('@g.us')){await _0x241cee[_0x41975d(0x93)](_0x159038,{'text':_0x41975d(0x8f)});return;}const _0x5bddc3=_0x7d8a1e[_0x41975d(0xab)]?.[_0x41975d(0x9d)]||_0x7d8a1e[_0x41975d(0xab)]?.['extendedTextMessage']?.[_0x41975d(0xa9)]||'',_0x4b32c1=_0x5bddc3[_0x41975d(0xa7)]('\x20')[_0x41975d(0x96)](0x1)[_0x41975d(0x9c)]('\x20');await handleGoodbye(_0x241cee,_0x159038,_0x7d8a1e,_0x4b32c1);}function _0x1de4(_0x1e8e11,_0x152b54){const _0x5704e2=_0x5704();return _0x1de4=function(_0x1de42f,_0x4c5edf){_0x1de42f=_0x1de42f-0x8e;let _0x4467a2=_0x5704e2[_0x1de42f];return _0x4467a2;},_0x1de4(_0x1e8e11,_0x152b54);}async function handleLeaveEvent(_0x509536,_0x225da1,_0x475638){const _0x4f55a7=_0x44d0b3,_0x1347d0=await isGoodByeOn(_0x225da1);if(!_0x1347d0)return;const _0x2bd2cb=await _0x509536[_0x4f55a7(0x9f)](_0x225da1),_0x12fb1d=_0x2bd2cb[_0x4f55a7(0xaf)];for(const _0x3eb787 of _0x475638){try{const _0x2df913=_0x3eb787[_0x4f55a7(0xa7)]('@')[0x0];let _0x42174c=_0x2df913;try{const _0x387dfc=await _0x509536['getBusinessProfile'](_0x3eb787);if(_0x387dfc&&_0x387dfc['name'])_0x42174c=_0x387dfc[_0x4f55a7(0xa5)];else{const _0x1b14f1=_0x2bd2cb[_0x4f55a7(0x9b)],_0x3bd6d3=_0x1b14f1[_0x4f55a7(0x98)](_0x4c0459=>_0x4c0459['id']===_0x3eb787);_0x3bd6d3&&_0x3bd6d3['name']&&(_0x42174c=_0x3bd6d3[_0x4f55a7(0xa5)]);}}catch(_0x5e620e){console[_0x4f55a7(0x95)]('Could\x20not\x20fetch\x20display\x20name,\x20using\x20phone\x20number');}let _0x5d7d6e=_0x4f55a7(0xa8);try{const _0x492c2f=await _0x509536[_0x4f55a7(0x8e)](_0x3eb787,'image');_0x492c2f&&(_0x5d7d6e=_0x492c2f);}catch(_0x3da67a){console[_0x4f55a7(0x95)](_0x4f55a7(0xad));}const _0x10c4fe=_0x4f55a7(0xac)+encodeURIComponent(_0x42174c)+'&guildName='+encodeURIComponent(_0x12fb1d)+_0x4f55a7(0x99)+_0x2bd2cb[_0x4f55a7(0x9b)][_0x4f55a7(0xb0)]+'&avatar='+encodeURIComponent(_0x5d7d6e),_0x53b7a1=await fetch(_0x10c4fe);if(_0x53b7a1['ok']){const _0x19489f=await _0x53b7a1[_0x4f55a7(0x9e)]();await _0x509536[_0x4f55a7(0x93)](_0x225da1,{'image':_0x19489f,'caption':_0x4f55a7(0xaa)+_0x42174c+'*\x20we\x20will\x20never\x20miss\x20you!\x20','mentions':[_0x3eb787]});}else{const _0x17e276='\x20*@'+_0x42174c+_0x4f55a7(0xa4);await _0x509536[_0x4f55a7(0x93)](_0x225da1,{'text':_0x17e276,'mentions':[_0x3eb787]});}}catch(_0x4c5c6d){console['error']('Error\x20sending\x20goodbye\x20message:',_0x4c5c6d);const _0x39665c=_0x3eb787[_0x4f55a7(0xa7)]('@')[0x0],_0xe07328=_0x4f55a7(0xaa)+_0x39665c+'*\x20we\x20will\x20never\x20miss\x20you!\x20';await _0x509536['sendMessage'](_0x225da1,{'text':_0xe07328,'mentions':[_0x3eb787]});}}}module[_0x44d0b3(0x90)]={'goodbyeCommand':goodbyeCommand,'handleLeaveEvent':handleLeaveEvent};