const _0x509c55=_0x1597;function _0x1597(_0xabadb,_0x2883c1){const _0x3b35c0=_0x3b35();return _0x1597=function(_0x1597e3,_0xbfbf96){_0x1597e3=_0x1597e3-0x152;let _0x1d9f43=_0x3b35c0[_0x1597e3];return _0x1d9f43;},_0x1597(_0xabadb,_0x2883c1);}(function(_0x57569d,_0x40ade6){const _0x2bcee0=_0x1597,_0xb2122a=_0x57569d();while(!![]){try{const _0x4e0788=parseInt(_0x2bcee0(0x176))/0x1*(parseInt(_0x2bcee0(0x183))/0x2)+parseInt(_0x2bcee0(0x16c))/0x3+parseInt(_0x2bcee0(0x15b))/0x4+parseInt(_0x2bcee0(0x17d))/0x5*(parseInt(_0x2bcee0(0x152))/0x6)+-parseInt(_0x2bcee0(0x186))/0x7+parseInt(_0x2bcee0(0x16f))/0x8+-parseInt(_0x2bcee0(0x17e))/0x9;if(_0x4e0788===_0x40ade6)break;else _0xb2122a['push'](_0xb2122a['shift']());}catch(_0x468b77){_0xb2122a['push'](_0xb2122a['shift']());}}}(_0x3b35,0x62658));function _0x3b35(){const _0x436e34=['extendedTextMessage','toFixed','conversation','videoUrl','[SORA]\x20Response\x20time:\x20','addInput','sendMessage','sora-video-','273081pKeCia','now','end','2879552xMzCJa','split','match','contextInfo','length','.sora','existsSync','13nyMkYc','trim','&apikey=beta','axios','text','unlinkSync','https://okatsu-rolezapiiz.vercel.app/ai/txt2video?text=','2507115HDfKcU','11875374VfzwkK','.mp4','writeFileSync','path','ffmpeg-static','70512aiGmDH','sora-final-','error','185822hkPogS','arraybuffer','quotedMessage','6rxEaSi','data','message','.mp3','setFfmpegPath','sora-audio-','get','[SORA]\x20TTS\x20merge\x20error:','caption','1353368aqzjgx','result','join','[SORA]\x20error:','save','fluent-ffmpeg','videoMessage','https://violetics.pw/api/tts?text=','‚ùå\x20Provide\x20a\x20prompt.\x0a\x0aExample:\x20`.sora\x20anime\x20girl\x20saying\x20\x22hello\x22`'];_0x3b35=function(){return _0x436e34;};return _0x3b35();}const axios=require(_0x509c55(0x179)),fs=require('fs'),path=require(_0x509c55(0x181)),ffmpeg=require(_0x509c55(0x160)),ffmpegPath=require(_0x509c55(0x182));async function soraCommand(_0x16e454,_0x55db80,_0x13b21a){const _0x3667e3=_0x509c55;try{const _0x7b9aca=_0x13b21a[_0x3667e3(0x154)]?.[_0x3667e3(0x166)]?.[_0x3667e3(0x177)]()||_0x13b21a[_0x3667e3(0x154)]?.[_0x3667e3(0x164)]?.[_0x3667e3(0x17a)]?.[_0x3667e3(0x177)]()||_0x13b21a['message']?.['imageMessage']?.[_0x3667e3(0x15a)]?.[_0x3667e3(0x177)]()||_0x13b21a[_0x3667e3(0x154)]?.[_0x3667e3(0x161)]?.[_0x3667e3(0x15a)]?.[_0x3667e3(0x177)]()||'',_0x2f0aed=_0x7b9aca['startsWith']('.sora')?_0x3667e3(0x174):_0x7b9aca[_0x3667e3(0x170)](/\s+/)[0x0],_0x58da80=_0x7b9aca['slice'](_0x2f0aed[_0x3667e3(0x173)])['trim'](),_0x2e8530=_0x13b21a[_0x3667e3(0x154)]?.['extendedTextMessage']?.[_0x3667e3(0x172)]?.[_0x3667e3(0x188)],_0x3497ba=_0x2e8530?.[_0x3667e3(0x166)]||_0x2e8530?.[_0x3667e3(0x164)]?.[_0x3667e3(0x17a)]||_0x2e8530?.['imageMessage']?.[_0x3667e3(0x15a)]||_0x2e8530?.['videoMessage']?.[_0x3667e3(0x15a)]||'',_0x31780c=_0x58da80||_0x3497ba;if(!_0x31780c){await _0x16e454[_0x3667e3(0x16a)](_0x55db80,{'text':_0x3667e3(0x163)},{'quoted':_0x13b21a});return;}await _0x16e454[_0x3667e3(0x16a)](_0x55db80,{'text':'üé•\x20Generating\x20video\x20with\x20voice,\x20please\x20wait...'},{'quoted':_0x13b21a});const _0x16647a=_0x3667e3(0x17c)+encodeURIComponent(_0x31780c),_0x503b45=Date['now'](),{data:_0x1cabf4}=await axios[_0x3667e3(0x158)](_0x16647a,{'timeout':0xea60,'headers':{'user-agent':'Mozilla/5.0'}}),_0x3728d6=((Date[_0x3667e3(0x16d)]()-_0x503b45)/0x3e8)[_0x3667e3(0x165)](0x2);console['log'](_0x3667e3(0x168)+_0x3728d6+'s');const _0x1c23df=_0x1cabf4?.[_0x3667e3(0x167)]||_0x1cabf4?.[_0x3667e3(0x15c)]||_0x1cabf4?.[_0x3667e3(0x153)]?.[_0x3667e3(0x167)];if(!_0x1c23df)throw new Error('No\x20videoUrl\x20in\x20API\x20response');const _0x501302=_0x31780c[_0x3667e3(0x171)](/saying\s+["']?(.+?)["']?$/i),_0x44491e=_0x501302?_0x501302[0x1]:null,_0x1497a0=path['join'](__dirname,_0x3667e3(0x16b)+Date['now']()+_0x3667e3(0x17f)),_0x3ee47a=await axios['get'](_0x1c23df,{'responseType':_0x3667e3(0x187)});fs[_0x3667e3(0x180)](_0x1497a0,_0x3ee47a[_0x3667e3(0x153)]);let _0x50e05b=_0x1497a0;if(_0x44491e)try{const _0x1c3a8c=_0x3667e3(0x162)+encodeURIComponent(_0x44491e)+_0x3667e3(0x178),_0x270d17=path[_0x3667e3(0x15d)](__dirname,_0x3667e3(0x157)+Date[_0x3667e3(0x16d)]()+_0x3667e3(0x155)),_0x190967=await axios[_0x3667e3(0x158)](_0x1c3a8c,{'responseType':_0x3667e3(0x187)});fs[_0x3667e3(0x180)](_0x270d17,_0x190967['data']);const _0x552611=path[_0x3667e3(0x15d)](__dirname,_0x3667e3(0x184)+Date['now']()+_0x3667e3(0x17f));await new Promise((_0x31397b,_0x49c7d2)=>{const _0x217ade=_0x3667e3;ffmpeg(_0x1497a0)[_0x217ade(0x156)](ffmpegPath)[_0x217ade(0x169)](_0x270d17)['outputOptions']('-c:v\x20copy')['outputOptions']('-c:a\x20aac')[_0x217ade(0x15f)](_0x552611)['on'](_0x217ade(0x16e),_0x31397b)['on'](_0x217ade(0x185),_0x49c7d2);}),fs[_0x3667e3(0x17b)](_0x1497a0),fs[_0x3667e3(0x17b)](_0x270d17),_0x50e05b=_0x552611;}catch(_0x1241c4){console[_0x3667e3(0x185)](_0x3667e3(0x159),_0x1241c4[_0x3667e3(0x154)]);}await _0x16e454[_0x3667e3(0x16a)](_0x55db80,{'video':{'url':_0x50e05b},'mimetype':'video/mp4','caption':'üé¨\x20Prompt:\x20'+_0x31780c+'\x0a‚è±\x20Generated\x20in\x20'+_0x3728d6+'s'},{'quoted':_0x13b21a});if(fs[_0x3667e3(0x175)](_0x50e05b))fs['unlinkSync'](_0x50e05b);}catch(_0x17f206){console[_0x3667e3(0x185)](_0x3667e3(0x15e),_0x17f206?.['message']||_0x17f206),await _0x16e454[_0x3667e3(0x16a)](_0x55db80,{'text':'‚ö†Ô∏è\x20Failed\x20to\x20generate\x20video\x20with\x20voice.\x20Try\x20again\x20later.'},{'quoted':_0x13b21a});}}module['exports']=soraCommand;