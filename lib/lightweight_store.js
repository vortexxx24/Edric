const _0x21f5a4=_0x19d2;(function(_0xf853a7,_0x22963f){const _0x309a2a=_0x19d2,_0x2daea9=_0xf853a7();while(!![]){try{const _0x16f49a=parseInt(_0x309a2a(0xbb))/0x1*(-parseInt(_0x309a2a(0xae))/0x2)+parseInt(_0x309a2a(0xa2))/0x3+-parseInt(_0x309a2a(0xa7))/0x4+parseInt(_0x309a2a(0x9f))/0x5*(parseInt(_0x309a2a(0xa3))/0x6)+-parseInt(_0x309a2a(0xba))/0x7*(parseInt(_0x309a2a(0xac))/0x8)+parseInt(_0x309a2a(0xa8))/0x9+parseInt(_0x309a2a(0xb3))/0xa;if(_0x16f49a===_0x22963f)break;else _0x2daea9['push'](_0x2daea9['shift']());}catch(_0x51ad9d){_0x2daea9['push'](_0x2daea9['shift']());}}}(_0x2040,0xa3ec7));const fs=require('fs'),STORE_FILE=_0x21f5a4(0xb0);function _0x2040(){const _0xd65a32=['../settings.js','subject','8eKklrm','remoteJid','68miEXag','object','./baileys_store.json','key','parse','17231300iGrtOm','isArray','notify','Failed\x20to\x20write\x20store\x20file:','find','chats','readFileSync','3512222MwukSz','25195BDQggQ','messages.upsert','messages','contacts.update','length','Failed\x20to\x20read\x20store\x20file:','chats.set','slice','stringify','writeFileSync','contacts','warn','message','forEach','85tWIMbU','name','keys','607695xmfeAJ','181122MHfTWC','maxStoreMessages','utf-8','cleanupData','2878176xNlJrH','2794293EzPRNU','number'];_0x2040=function(){return _0xd65a32;};return _0x2040();}let MAX_MESSAGES=0x14;function _0x19d2(_0x4a588e,_0x541a46){const _0x204043=_0x2040();return _0x19d2=function(_0x19d265,_0x5a6073){_0x19d265=_0x19d265-0x98;let _0x5644c8=_0x204043[_0x19d265];return _0x5644c8;},_0x19d2(_0x4a588e,_0x541a46);}try{const settings=require(_0x21f5a4(0xaa));settings[_0x21f5a4(0xa4)]&&typeof settings['maxStoreMessages']===_0x21f5a4(0xa9)&&(MAX_MESSAGES=settings[_0x21f5a4(0xa4)]);}catch(_0x414a1f){}const store={'messages':{},'contacts':{},'chats':{},'readFromFile'(_0x2488bb=STORE_FILE){const _0x11c3c7=_0x21f5a4;try{if(fs['existsSync'](_0x2488bb)){const _0x5aeba2=JSON[_0x11c3c7(0xb2)](fs[_0x11c3c7(0xb9)](_0x2488bb,_0x11c3c7(0xa5)));this[_0x11c3c7(0x9b)]=_0x5aeba2[_0x11c3c7(0x9b)]||{},this[_0x11c3c7(0xb8)]=_0x5aeba2[_0x11c3c7(0xb8)]||{},this[_0x11c3c7(0xbd)]=_0x5aeba2[_0x11c3c7(0xbd)]||{},this[_0x11c3c7(0xa6)]();}}catch(_0x5848d6){console['warn'](_0x11c3c7(0xc0),_0x5848d6[_0x11c3c7(0x9d)]);}},'writeToFile'(_0x115f3a=STORE_FILE){const _0x5d00d3=_0x21f5a4;try{const _0x2430dd=JSON[_0x5d00d3(0x99)]({'contacts':this[_0x5d00d3(0x9b)],'chats':this['chats'],'messages':this['messages']});fs[_0x5d00d3(0x9a)](_0x115f3a,_0x2430dd);}catch(_0x2cef33){console[_0x5d00d3(0x9c)](_0x5d00d3(0xb6),_0x2cef33[_0x5d00d3(0x9d)]);}},'cleanupData'(){const _0x388987=_0x21f5a4;this['messages']&&Object['keys'](this[_0x388987(0xbd)])[_0x388987(0x9e)](_0x106932=>{const _0x306278=_0x388987;if(typeof this[_0x306278(0xbd)][_0x106932]===_0x306278(0xaf)&&!Array[_0x306278(0xb4)](this[_0x306278(0xbd)][_0x106932])){const _0x3214e8=Object['values'](this['messages'][_0x106932]);this[_0x306278(0xbd)][_0x106932]=_0x3214e8[_0x306278(0x98)](-MAX_MESSAGES);}});},'bind'(_0x1e92ad){const _0x57ca6c=_0x21f5a4;_0x1e92ad['on'](_0x57ca6c(0xbc),({messages:_0x30f739})=>{_0x30f739['forEach'](_0x20128e=>{const _0x49fd26=_0x19d2;if(!_0x20128e[_0x49fd26(0xb1)]?.[_0x49fd26(0xad)])return;const _0x4d6284=_0x20128e[_0x49fd26(0xb1)]['remoteJid'];this[_0x49fd26(0xbd)][_0x4d6284]=this[_0x49fd26(0xbd)][_0x4d6284]||[],this['messages'][_0x4d6284]['push'](_0x20128e),this['messages'][_0x4d6284][_0x49fd26(0xbf)]>MAX_MESSAGES&&(this[_0x49fd26(0xbd)][_0x4d6284]=this[_0x49fd26(0xbd)][_0x4d6284][_0x49fd26(0x98)](-MAX_MESSAGES));});}),_0x1e92ad['on'](_0x57ca6c(0xbe),_0x35a7d7=>{_0x35a7d7['forEach'](_0x42f915=>{const _0x1e751a=_0x19d2;_0x42f915['id']&&(this['contacts'][_0x42f915['id']]={'id':_0x42f915['id'],'name':_0x42f915[_0x1e751a(0xb5)]||_0x42f915[_0x1e751a(0xa0)]||''});});}),_0x1e92ad['on'](_0x57ca6c(0xc1),_0x433ae7=>{const _0x492344=_0x57ca6c;this[_0x492344(0xb8)]={},_0x433ae7[_0x492344(0x9e)](_0x4af2d0=>{const _0x2c12cd=_0x492344;this[_0x2c12cd(0xb8)][_0x4af2d0['id']]={'id':_0x4af2d0['id'],'subject':_0x4af2d0[_0x2c12cd(0xab)]||''};});});},async 'loadMessage'(_0x5e8b20,_0x2c7e97){const _0x5e26ec=_0x21f5a4;return this['messages'][_0x5e8b20]?.[_0x5e26ec(0xb7)](_0x14b5c5=>_0x14b5c5['key']['id']===_0x2c7e97)||null;},'getStats'(){const _0x5b28fa=_0x21f5a4;let _0x1172df=0x0,_0x5b8ad3=Object[_0x5b28fa(0xa1)](this['contacts'])[_0x5b28fa(0xbf)],_0x3f9c26=Object['keys'](this[_0x5b28fa(0xb8)])[_0x5b28fa(0xbf)];return Object['values'](this[_0x5b28fa(0xbd)])[_0x5b28fa(0x9e)](_0x216bf0=>{const _0x2cb631=_0x5b28fa;Array[_0x2cb631(0xb4)](_0x216bf0)&&(_0x1172df+=_0x216bf0['length']);}),{'messages':_0x1172df,'contacts':_0x5b8ad3,'chats':_0x3f9c26,'maxMessagesPerChat':MAX_MESSAGES};}};module['exports']=store;