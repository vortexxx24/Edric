function _0x2689(_0x3cc4b9,_0x41b55b){const _0x375360=_0x3753();return _0x2689=function(_0x2689c9,_0x118ae3){_0x2689c9=_0x2689c9-0x1af;let _0xfd3123=_0x375360[_0x2689c9];return _0xfd3123;},_0x2689(_0x3cc4b9,_0x41b55b);}function _0x3753(){const _0xc23697=['load','Edric\x20OS','toFormat','exports','magick','end','exit','36412IiJjVY','data','util','libwebp','png:-','ext','node-fetch','format','unlink','writeFile','scale=512:512:flags=lanczos:force_original_aspect_ratio=decrease,format=rgba,pad=512:512:(ow-iw)/2:(oh-ih)/2:color=#00000000,setsar=1','../tmp','promises','-vf','Image','Error\x20in\x20sticker\x20creation:','support','webp','toString','17590XGRSHP','file-type','buffer','join','readFile','child_process','stdout','concat','png','input','exif','inputFormat','28824CXVXqC','close','writeUIntLE','wa-sticker-formatter','95yhrgQS','128488xbEpaV','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','ffmpeg','convert','18SWlwBD','21JmXWjQ','webp:-','2596RkpPfT','chat','toBuffer','text','reply','156318ibJXpO','randomBytes','pipe','test','error','from','hex','default','application/octet-stream','.webp','581820aUzchz','status','crypto','https://api.xteam.xyz/sticker/wm?','save','598686xHwgSe','stdin','fluent-ffmpeg'];_0x3753=function(){return _0xc23697;};return _0x3753();}const _0x4dccfb=_0x2689;(function(_0x15ad1d,_0x51ecdd){const _0x3d2a43=_0x2689,_0x2f78b9=_0x15ad1d();while(!![]){try{const _0x431589=parseInt(_0x3d2a43(0x1e7))/0x1+-parseInt(_0x3d2a43(0x1b4))/0x2+parseInt(_0x3d2a43(0x1b9))/0x3+-parseInt(_0x3d2a43(0x1c3))/0x4*(parseInt(_0x3d2a43(0x1e6))/0x5)+-parseInt(_0x3d2a43(0x1f3))/0x6*(parseInt(_0x3d2a43(0x1ec))/0x7)+parseInt(_0x3d2a43(0x1e2))/0x8*(parseInt(_0x3d2a43(0x1eb))/0x9)+-parseInt(_0x3d2a43(0x1d6))/0xa*(-parseInt(_0x3d2a43(0x1ee))/0xb);if(_0x431589===_0x51ecdd)break;else _0x2f78b9['push'](_0x2f78b9['shift']());}catch(_0x51b722){_0x2f78b9['push'](_0x2f78b9['shift']());}}}(_0x3753,0x32de2));const fs=require('fs'),path=require('path'),crypto=require(_0x4dccfb(0x1b6)),{spawn}=require(_0x4dccfb(0x1db)),{fileTypeFromBuffer}=require(_0x4dccfb(0x1d7)),webp=require('node-webpmux'),fetch=require(_0x4dccfb(0x1c9)),ffmpeg=require(_0x4dccfb(0x1bb)),{exec}=require('child_process'),{promisify}=require(_0x4dccfb(0x1c5)),execAsync=promisify(exec),{writeExifImg}=require('./exif'),tmp=path[_0x4dccfb(0x1d9)](__dirname,_0x4dccfb(0x1ce));function sticker2(_0x5495c3,_0x4868c4){return new Promise(async(_0x28c98f,_0x1e1716)=>{const _0x3ffd5e=_0x2689;try{if(_0x4868c4){let _0x4d8046=await fetch(_0x4868c4);if(_0x4d8046['status']!==0xc8)throw await _0x4d8046['text']();_0x5495c3=await _0x4d8046[_0x3ffd5e(0x1d8)]();}let _0x1e3af6=path['join'](tmp,+new Date()+'.jpeg');await fs['promises'][_0x3ffd5e(0x1cc)](_0x1e3af6,_0x5495c3);let _0x3fe7b1=spawn(_0x3ffd5e(0x1e9),['-y','-i',_0x1e3af6,_0x3ffd5e(0x1d0),_0x3ffd5e(0x1cd),'-f',_0x3ffd5e(0x1de),'-']);_0x3fe7b1['on'](_0x3ffd5e(0x1f7),_0x1e1716),_0x3fe7b1['on'](_0x3ffd5e(0x1e3),async()=>{await fs['promises']['unlink'](_0x1e3af6);});let _0x5ae16a=[];const [_0x12900c,..._0xb915bf]=[...module[_0x3ffd5e(0x1bf)][_0x3ffd5e(0x1d3)]['gm']?['gm']:module[_0x3ffd5e(0x1bf)][_0x3ffd5e(0x1c0)]?[_0x3ffd5e(0x1c0)]:[],_0x3ffd5e(0x1ea),_0x3ffd5e(0x1c7),_0x3ffd5e(0x1ed)];let _0x5181b7=spawn(_0x12900c,_0xb915bf);_0x5181b7['on'](_0x3ffd5e(0x1f7),_0x326ad1=>conn[_0x3ffd5e(0x1f2)](m[_0x3ffd5e(0x1ef)],util[_0x3ffd5e(0x1ca)](_0x326ad1),m)),_0x5181b7[_0x3ffd5e(0x1dc)]['on'](_0x3ffd5e(0x1c4),_0x26dcb5=>_0x5ae16a['push'](_0x26dcb5)),_0x3fe7b1[_0x3ffd5e(0x1dc)][_0x3ffd5e(0x1f5)](_0x5181b7[_0x3ffd5e(0x1ba)]),_0x5181b7['on'](_0x3ffd5e(0x1c2),()=>{_0x28c98f(Buffer['concat'](_0x5ae16a));});}catch(_0x1bcd0f){_0x1e1716(_0x1bcd0f);}});}async function sticker3(_0x56ba99,_0x14c00b,_0x2c41e1,_0x22cde8){const _0x7a9389=_0x4dccfb;_0x14c00b=_0x14c00b?_0x14c00b:await uploadFile(_0x56ba99);let _0xfb584f=await fetch(_0x7a9389(0x1b7)+new URLSearchParams(Object['entries']({'url':_0x14c00b,'packname':_0x2c41e1,'author':_0x22cde8})));return await _0xfb584f[_0x7a9389(0x1d8)]();}async function sticker4(_0x248411,_0x28a5bb){const _0x378327=_0x4dccfb;if(_0x28a5bb){let _0x3c7734=await fetch(_0x28a5bb);if(_0x3c7734[_0x378327(0x1b5)]!==0xc8)throw await _0x3c7734[_0x378327(0x1f1)]();_0x248411=await _0x3c7734[_0x378327(0x1d8)]();}return await ffmpeg(_0x248411,[_0x378327(0x1d0),_0x378327(0x1cd)],'jpeg','webp');}async function sticker5(_0x3601b1,_0x59cb40,_0x247377,_0x219d51,_0x5499b5=[''],_0x3ac29e={}){const _0x244370=_0x4dccfb,{Sticker:_0x16bca1}=await import(_0x244370(0x1e5)),_0x5e314c={'type':_0x244370(0x1b1),'pack':_0x247377,'author':_0x219d51,'categories':_0x5499b5,..._0x3ac29e};return new _0x16bca1(_0x3601b1?_0x3601b1:_0x59cb40,_0x5e314c)[_0x244370(0x1f0)]();}function sticker6(_0x130dbb,_0x53f980){return new Promise(async(_0x15b39b,_0x4ae3b1)=>{const _0x24d37a=_0x2689;if(_0x53f980){let _0x3444b7=await fetch(_0x53f980);if(_0x3444b7['status']!==0xc8)throw await _0x3444b7[_0x24d37a(0x1f1)]();_0x130dbb=await _0x3444b7['buffer']();}const _0x112308=await fileTypeFromBuffer(_0x130dbb)||{'mime':_0x24d37a(0x1b2),'ext':'bin'};if(_0x112308[_0x24d37a(0x1c8)]=='bin')_0x4ae3b1(_0x130dbb);const _0x3cb854=path[_0x24d37a(0x1d9)](__dirname,'../tmp/'+ +new Date()+'.'+_0x112308[_0x24d37a(0x1c8)]),_0xefa6b7=path['join'](_0x3cb854+_0x24d37a(0x1b3));await fs['promises']['writeFile'](_0x3cb854,_0x130dbb);let _0x32cc4b=/video/i[_0x24d37a(0x1f6)](_0x112308['mime'])?fluent_ffmpeg(_0x3cb854)[_0x24d37a(0x1e1)](_0x112308['ext']):fluent_ffmpeg(_0x3cb854)[_0x24d37a(0x1df)](_0x3cb854);_0x32cc4b['on']('error',function(_0x50baaa){const _0x3e3f08=_0x24d37a;console[_0x3e3f08(0x1f7)](_0x50baaa),fs[_0x3e3f08(0x1cf)][_0x3e3f08(0x1cb)](_0x3cb854),_0x4ae3b1(_0x130dbb);})['on'](_0x24d37a(0x1c1),async function(){const _0x235f33=_0x24d37a;fs[_0x235f33(0x1cf)]['unlink'](_0x3cb854),_0x15b39b(await fs['promises'][_0x235f33(0x1da)](_0xefa6b7));})['addOutputOptions'](['-vcodec',_0x24d37a(0x1c6),'-vf',_0x24d37a(0x1e8)])[_0x24d37a(0x1be)](_0x24d37a(0x1d4))['save'](_0xefa6b7);});}async function addExif(_0x300557,_0xf9e095,_0x4a9dc3,_0x17fe19=[''],_0xff318f={}){const _0x3594f6=_0x4dccfb,_0x3ec6cf=new webp[(_0x3594f6(0x1d1))](),_0x2f5e94=crypto[_0x3594f6(0x1f4)](0x20)[_0x3594f6(0x1d5)](_0x3594f6(0x1b0)),_0x15110c={'sticker-pack-id':_0x2f5e94,'sticker-pack-name':_0xf9e095,'sticker-pack-publisher':_0x4a9dc3,'emojis':_0x17fe19,..._0xff318f};let _0x17f075=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3d47d2=Buffer[_0x3594f6(0x1af)](JSON['stringify'](_0x15110c),'utf8'),_0x11e11c=Buffer[_0x3594f6(0x1dd)]([_0x17f075,_0x3d47d2]);return _0x11e11c[_0x3594f6(0x1e4)](_0x3d47d2['length'],0xe,0x4),await _0x3ec6cf[_0x3594f6(0x1bc)](_0x300557),_0x3ec6cf[_0x3594f6(0x1e0)]=_0x11e11c,await _0x3ec6cf[_0x3594f6(0x1b8)](null);}async function sticker(_0x4bd642,_0x1ca725,_0x2d6390,_0x469a35){const _0x4c326f=_0x4dccfb;try{const _0x333661=await fetch(_0x1ca725),_0x290d18=await _0x333661[_0x4c326f(0x1d8)](),_0x5009c5=await writeExifImg(_0x290d18,{'packname':_0x2d6390||_0x4c326f(0x1bd),'author':_0x469a35||'@bot'});return _0x5009c5;}catch(_0x4cb08f){return console[_0x4c326f(0x1f7)](_0x4c326f(0x1d2),_0x4cb08f),null;}}const support={'ffmpeg':!![],'ffprobe':!![],'ffmpegWebp':!![],'convert':!![],'magick':![],'gm':![],'find':![]};module[_0x4dccfb(0x1bf)]={'sticker':sticker,'sticker2':sticker2,'sticker3':sticker3,'sticker4':sticker4,'sticker6':sticker6,'addExif':addExif,'support':support};